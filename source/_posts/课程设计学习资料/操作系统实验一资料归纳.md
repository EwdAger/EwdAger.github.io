---
title: 操作系统实验一资料归纳
tags:
  - 操作系统
  - 课程设计
categories: 课程设计
abbrlink: a46183c6
date: 2017-06-12 17:02:10
---

## [句柄](http://blog.csdn.net/wenzhou1219/article/details/17659485)
指导书上出现了一个陌生的名词“句柄（handle）”，感觉比较奇妙，因为在之前编写微信公众号小程序看教程也编写了一个handle程序。所以留档一下吧。

>句柄（handle），有多种意义，其中第一种是指程序设计，第二种是指Windows编程。现在大部分都是指程序设计/程序开发这类。
第一种解释：句柄是一种特殊的[智能指针](http://baike.baidu.com/item/%E6%99%BA%E8%83%BD%E6%8C%87%E9%92%88) 。当一个应用程序要引用其他系统（如数据库、操作系统）所管理的内存块或对象时，就要使用句柄。
第二种解释：整个Windows编程的基础。一个句柄是指使用的一个唯一的整数值，即一个4字节(64位程序中为8字节)长的数值，来**标识**[**应用程序**](http://baike.baidu.com/item/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F)**中的不同**[**对象**](http://baike.baidu.com/item/%E5%AF%B9%E8%B1%A1/17158)**和同类中的不同的**[实例](http://baike.baidu.com/item/%E5%AE%9E%E4%BE%8B)，诸如，一个窗口，按钮，图标，滚动条，输出设备，控件或者文件等。应用程序能够通过句柄访问相应的对象的信息，但是句柄不是[指针](http://baike.baidu.com/item/%E6%8C%87%E9%92%88)，程序不能利用句柄来直接阅读文件中的信息。如果句柄不在[I/O](http://baike.baidu.com/item/I%2FO/84718)文件中，它是毫无用处的。 句柄是Windows用来标志应用程序中建立的或是使用的唯一整数，[Windows](http://baike.baidu.com/item/Windows)大量使用了句柄来[标识](http://baike.baidu.com/item/%E6%A0%87%E8%AF%86)对象。

## 实验一中相关函数解释
***参考MSDN 中的帮助文件 CreateMutex() 、 OpenMutex() 、 ReleaseMutex() 和WaitForSingleObject()的使用方法，理解父子进程如何利用互斥体进行同步的。给出父子进程同步过程的一个大概描述。***

-  [CreateMutex()](http://baike.baidu.com/link?url=boSD4NdEPtsIzNknD870_sBOo6IOUMRPScgAW3JyVg4JPgfSFMVsS5KTHoEv_zVs_JgW91ONiGKvfPQCOCpZcTmIA3BUIBvSV-r39nNHE-y)
CreateMutex()函数可用来创建一个有名或无名的[互斥量](http://baike.baidu.com/item/%E4%BA%92%E6%96%A5%E9%87%8F)对象，其函数原型为
```
HANDLE CreateMutex(
LPSECURITY_ATTRIBUTESlpMutexAttributes, // 指向安全属性的指针
BOOLbInitialOwner, // 初始化互斥对象的所有者
LPCTSTRlpName // 指向互斥对象名的指针
);
```
- [OpenMutex()](http://baike.baidu.com/link?url=4NF97jjXEOpraFqGiWFcsO9ptg45k2vSuH-sv5VXBQgmnPvycsCSqpkjM5Cj2dtPoBxKKuk8lTxEtOtReKdzEr30XK7oU108oeUQzvuR7lG)
OpenMutex函数为现有的一个已命名[互斥体](http://baike.baidu.com/item/%E4%BA%92%E6%96%A5%E4%BD%93)对象创建一个新句柄,函数原型:
```
HANDLE OpenMutex(
DWORD dwDesiredAccess, // access
BOOL bInheritHandle, // inheritance option
LPCTSTR lpName // object name
);
```
- [ReleaseMutex()](http://baike.baidu.com/link?url=yz_YJPf3lLPCUKgCHkRHlz1JgoHUD5InYAaMhJnbThiy7_WlhpsrtSXgCme74w8puSO9y6ycbfYK6zLBhN9ujzjcfK2mhMe0I_VQ-sz5Mx3)
ReleaseMutex是一种线性指令，具有释放线程拥有的互斥体的控制权,函数原型为：
```
BOOL WINAPI ReleaseMutex(
HANDLE hMutex    //hMutex：HANDLE，制定一个互斥体的句柄。
);
```

- [WaitForSingleObject()](http://baike.baidu.com/item/WaitForSingleObject/3534838)
当等待仍在[挂起状态](http://baike.baidu.com/item/%E6%8C%82%E8%B5%B7%E7%8A%B6%E6%80%81)时，句柄被关闭，那么函数行为是未定义的。该句柄必须具有 SYNCHRONIZE 访问权限。函数原型：
```
DWORD WINAPI WaitForSingleObject(
__in HANDLE hHandle,
__in DWORD dwMilliseconds
);
```

>**参数说明**：hHandle[in]对象句柄。可以指定一系列的对象，如Event、Job、Memory resource notification、Mutex、Process、Semaphore、Thread、Waitable timer等。

>dwMilliseconds[in]定时时间间隔，单位为milliseconds（毫秒）.如果指定一个非零值，函数处于等待状态直到hHandle标记的对象被触发，或者时间到了。如果dwMilliseconds为0，对象没有被触发信号，函数不会进入一个等待状态，它总是立即返回。如果dwMilliseconds为INFINITE，对象被触发信号后，函数才会返回。
